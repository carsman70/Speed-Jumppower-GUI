-- // ScriptBlock GUI by ChatGPT (Final Version)
-- // Place this LocalScript in StarterPlayerScripts

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local ContentProvider = game:GetService("ContentProvider")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- // Create main screen GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ScriptBlockGUI"
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 1000
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- // Main squircle GUI
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 420, 0, 250)
mainFrame.Position = UDim2.new(0.5, -210, 0.5, -125)
mainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
mainFrame.BackgroundTransparency = 0.15
mainFrame.Active = true
mainFrame.Draggable = false
mainFrame.ZIndex = 10
mainFrame.Parent = screenGui

local uicornerMain = Instance.new("UICorner")
uicornerMain.CornerRadius = UDim.new(0, 20)
uicornerMain.Parent = mainFrame

-- // Title
local title = Instance.new("TextLabel")
title.Text = "ScriptBlock"
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.Position = UDim2.new(0, 15, 0, 10)
title.Size = UDim2.new(0, 300, 0, 25)
title.ZIndex = 11
title.Parent = mainFrame

-- // Minimize and X buttons
local function createButton(text, posX)
	local btn = Instance.new("TextButton")
	btn.Text = text
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 18
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	btn.Size = UDim2.new(0, 30, 0, 25)
	btn.Position = UDim2.new(1, posX, 0, 10)
	btn.AnchorPoint = Vector2.new(1, 0)
	btn.ZIndex = 11
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 6)
	corner.Parent = btn
	btn.Parent = mainFrame
	return btn
end

local closeBtn = createButton("X", -10)
local minimizeBtn = createButton("_", -45)

-- // Sliders
local function createSlider(name, orderY)
	local frame = Instance.new("Frame")
	frame.Name = name .. "Frame"
	frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	frame.Size = UDim2.new(0, 380, 0, 60)
	frame.Position = UDim2.new(0, 20, 0, 50 + orderY)
	frame.ZIndex = 11
	frame.Parent = mainFrame

	local uicorner = Instance.new("UICorner")
	uicorner.CornerRadius = UDim.new(0, 10)
	uicorner.Parent = frame

	local label = Instance.new("TextLabel")
	label.Text = name
	label.Font = Enum.Font.GothamBold
	label.TextSize = 18
	label.TextColor3 = Color3.fromRGB(255, 255, 255)
	label.BackgroundTransparency = 1
	label.Position = UDim2.new(0, 10, 0, 5)
	label.Size = UDim2.new(0, 100, 0, 25)
	label.ZIndex = 12
	label.Parent = frame

	local sliderBar = Instance.new("Frame")
	sliderBar.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	sliderBar.Size = UDim2.new(0.8, 0, 0, 6)
	sliderBar.Position = UDim2.new(0, 10, 0, 35)
	sliderBar.ZIndex = 12
	local barCorner = Instance.new("UICorner")
	barCorner.CornerRadius = UDim.new(1, 0)
	barCorner.Parent = sliderBar
	sliderBar.Parent = frame

	local fill = Instance.new("Frame")
	fill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
	fill.Size = UDim2.new(0, 0, 1, 0)
	fill.ZIndex = 12
	fill.Parent = sliderBar

	local valueBox = Instance.new("TextBox")
	valueBox.Text = "0"
	valueBox.Font = Enum.Font.GothamBold
	valueBox.TextSize = 16
	valueBox.TextColor3 = Color3.fromRGB(255, 255, 255)
	valueBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	valueBox.Size = UDim2.new(0, 60, 0, 25)
	valueBox.Position = UDim2.new(1, -70, 0.5, -12)
	valueBox.ZIndex = 12
	valueBox.Parent = frame
	local vCorner = Instance.new("UICorner")
	vCorner.CornerRadius = UDim.new(0, 6)
	vCorner.Parent = valueBox

	local val = 0
	local maxVal = 1000
	local minVal = 0

	local function updateValueFromSlider(x)
		local relX = math.clamp((x - sliderBar.AbsolutePosition.X) / sliderBar.AbsoluteSize.X, 0, 1)
		local newVal = math.floor((minVal + (maxVal - minVal) * relX) / 5 + 0.5) * 5
		val = newVal
		fill.Size = UDim2.new(relX, 0, 1, 0)
		valueBox.Text = tostring(val)
		if name == "Speed" then
			player.Character.Humanoid.WalkSpeed = val
		else
			player.Character.Humanoid.JumpPower = val
		end
	end

	local dragging = false

	sliderBar.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			updateValueFromSlider(input.Position.X)
		end
	end)

	UIS.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			updateValueFromSlider(input.Position.X)
		end
	end)

	UIS.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = false
		end
	end)

	valueBox.FocusLost:Connect(function(enterPressed)
		local num = tonumber(valueBox.Text)
		if num and num >= 0 and num <= 1000 then
			val = num
			fill.Size = UDim2.new(val / maxVal, 0, 1, 0)
			if name == "Speed" then
				player.Character.Humanoid.WalkSpeed = val
			else
				player.Character.Humanoid.JumpPower = val
			end
		else
			valueBox.Text = tostring(val)
		end
	end)

	return frame
end

local speedSlider = createSlider("Speed", 0)
local jumpSlider = createSlider("JumpPower", 70)

-- // Discord link (Selectable)
local discordLabel = Instance.new("TextBox")
discordLabel.Text = "https://discord.gg/HbW9mRJBC"
discordLabel.Font = Enum.Font.GothamBold
discordLabel.TextSize = 14
discordLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
discordLabel.BackgroundTransparency = 1
discordLabel.Size = UDim2.new(0, 320, 0, 20)
discordLabel.Position = UDim2.new(0, 20, 1, -25)
discordLabel.ClearTextOnFocus = false
discordLabel.TextEditable = false
discordLabel.Selectable = true
discordLabel.ZIndex = 12
discordLabel.Parent = mainFrame

-- // Draggable handle squircle
local dragHandle = Instance.new("Frame")
dragHandle.Name = "DragHandle"
dragHandle.Size = UDim2.new(0, 45, 0, 45)
dragHandle.AnchorPoint = Vector2.new(1, 1)
dragHandle.Position = UDim2.new(1, 0, 1, 0)
dragHandle.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
dragHandle.ZIndex = 15
dragHandle.Parent = mainFrame

local cornerHandle = Instance.new("UICorner")
cornerHandle.CornerRadius = UDim.new(1, 0)
cornerHandle.Parent = dragHandle

-- // Decal image on squircle
local decalImage = Instance.new("ImageLabel")
decalImage.Name = "DecalImage"
decalImage.Size = UDim2.new(1, 0, 1, 0)
decalImage.Position = UDim2.new(0, 0, 0, 0)
decalImage.BackgroundTransparency = 1
decalImage.Image = "rbxassetid://1467771388"
decalImage.ScaleType = Enum.ScaleType.Stretch
decalImage.Active = false
decalImage.ZIndex = 16
decalImage.Parent = dragHandle

-- // Draggable logic
local dragging = false
local dragStart, startPos

dragHandle.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = mainFrame.Position
	end
end)

UIS.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)

UIS.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = false
	end
end)

-- // Minimize and close functionality
local minimized = false
minimizeBtn.MouseButton1Click:Connect(function()
	minimized = not minimized
	speedSlider.Visible = not minimized
	jumpSlider.Visible = not minimized
	discordLabel.Visible = not minimized
end)

closeBtn.MouseButton1Click:Connect(function()
	screenGui:Destroy()
end)

-- // Keep GUI after death
player.CharacterAdded:Connect(function(char)
	wait(1)
	screenGui.Parent = player:WaitForChild("PlayerGui")
end)